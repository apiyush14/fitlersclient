{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"F:\\\\ReactNative\\\\onehealthclient\\\\onehealthclient\\\\screens\\\\SplashScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { useDispatch } from 'react-redux';\nimport * as authActions from \"../store/auth-actions\";\nimport * as userActions from \"../store/user-actions\";\nimport StatusCodes from \"../utils/StatusCodes.json\";\n\nvar SplashScreen = function SplashScreen(props) {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      animating = _useState2[0],\n      setAnimating = _useState2[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    setTimeout(function () {\n      setAnimating(false);\n      dispatch(authActions.loadUserAuthDetails()).then(function (userAuthDetails) {\n        userAuthDetails.status !== StatusCodes.OK || userAuthDetails.data.userId === null || userAuthDetails.data.userSecretKey === null ? props.navigation.navigate('LogInScreen') : loadUserDetailsAndNavigate();\n      });\n    }, 5000);\n  }, []);\n\n  var loadUserDetailsAndNavigate = function loadUserDetailsAndNavigate() {\n    dispatch(userActions.loadUserDetails()).then(function (userDetails) {\n      userDetails.status !== StatusCodes.OK || userDetails.data.userFirstName === null ? props.navigation.navigate('UserDetailsScreen') : props.navigation.navigate('Home');\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.splashScreenContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 3\n    }\n  }, React.createElement(ImageBackground, {\n    source: require(\"../assets/images/splash.png\"),\n    style: styles.bgImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 3\n    }\n  }, React.createElement(ActivityIndicator, {\n    animating: animating,\n    color: \"lightblue\",\n    size: \"large\",\n    style: styles.activityIndicator,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  splashScreenContainer: {\n    flex: 1\n  },\n  bgImage: {\n    flex: 1\n  },\n  activityIndicator: {\n    top: '50%'\n  }\n});\nexport default SplashScreen;","map":{"version":3,"sources":["F:/ReactNative/onehealthclient/onehealthclient/screens/SplashScreen.js"],"names":["React","useState","useEffect","useDispatch","authActions","userActions","StatusCodes","SplashScreen","props","animating","setAnimating","dispatch","setTimeout","loadUserAuthDetails","then","userAuthDetails","status","OK","data","userId","userSecretKey","navigation","navigate","loadUserDetailsAndNavigate","loadUserDetails","userDetails","userFirstName","styles","splashScreenContainer","require","bgImage","activityIndicator","StyleSheet","create","flex","top"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,SAAxB,QAAwC,OAAxC;;;;;AAEA,SAAQC,WAAR,QAA0B,aAA1B;AACA,OAAO,KAAKC,WAAZ;AACA,OAAO,KAAKC,WAAZ;AACA,OAAOC,WAAP;;AAGA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,KAAK,EAAI;AAAA,kBAEMP,QAAQ,CAAC,IAAD,CAFd;AAAA;AAAA,MAErBQ,SAFqB;AAAA,MAEVC,YAFU;;AAG5B,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;AAGAD,EAAAA,SAAS,CAAC,YAAM;AACdU,IAAAA,UAAU,CAAC,YAAM;AACfF,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACAC,MAAAA,QAAQ,CAACP,WAAW,CAACS,mBAAZ,EAAD,CAAR,CAA4CC,IAA5C,CAAiD,UAACC,eAAD,EAAqB;AACpEA,QAAAA,eAAe,CAACC,MAAhB,KAA2BV,WAAW,CAACW,EAAvC,IAA6CF,eAAe,CAACG,IAAhB,CAAqBC,MAArB,KAAgC,IAA7E,IAAqFJ,eAAe,CAACG,IAAhB,CAAqBE,aAArB,KAAuC,IAA5H,GAAmIZ,KAAK,CAACa,UAAN,CAAiBC,QAAjB,CAA0B,aAA1B,CAAnI,GAA8KC,0BAA0B,EAAxM;AACD,OAFD;AAGD,KALS,EAKP,IALO,CAAV;AAMD,GAPQ,EAON,EAPM,CAAT;;AAUA,MAAMA,0BAA0B,GAAG,SAA7BA,0BAA6B,GAAM;AACvCZ,IAAAA,QAAQ,CAACN,WAAW,CAACmB,eAAZ,EAAD,CAAR,CAAwCV,IAAxC,CAA6C,UAACW,WAAD,EAAiB;AAC5DA,MAAAA,WAAW,CAACT,MAAZ,KAAuBV,WAAW,CAACW,EAAnC,IAAyCQ,WAAW,CAACP,IAAZ,CAAiBQ,aAAjB,KAAmC,IAA5E,GAAmFlB,KAAK,CAACa,UAAN,CAAiBC,QAAjB,CAA0B,mBAA1B,CAAnF,GAAoId,KAAK,CAACa,UAAN,CAAiBC,QAAjB,CAA0B,MAA1B,CAApI;AACD,KAFD;AAGD,GAJD;;AAMF,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEK,MAAM,CAACC,qBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,eAAD;AACA,IAAA,MAAM,EAAEC,OAAO,+BADf;AAEA,IAAA,KAAK,EAAEF,MAAM,CAACG,OAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGC,oBAAC,iBAAD;AACK,IAAA,SAAS,EAAErB,SADhB;AAEK,IAAA,KAAK,EAAC,WAFX;AAGK,IAAA,IAAI,EAAC,OAHV;AAIK,IAAA,KAAK,EAAEkB,MAAM,CAACI,iBAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,CADA,CADF;AAcC,CApCD;;AAsCA,IAAMJ,MAAM,GAAGK,UAAU,CAACC,MAAX,CAAkB;AAChCL,EAAAA,qBAAqB,EAAE;AACtBM,IAAAA,IAAI,EAAE;AADgB,GADS;AAIhCJ,EAAAA,OAAO,EAAE;AACRI,IAAAA,IAAI,EAAE;AADE,GAJuB;AAOhCH,EAAAA,iBAAiB,EAAE;AAClBI,IAAAA,GAAG,EAAE;AADa;AAPa,CAAlB,CAAf;AAYA,eAAe5B,YAAf","sourcesContent":["import React, {useState,useEffect} from 'react';\r\nimport {View,StyleSheet,ActivityIndicator,ImageBackground} from 'react-native';\r\nimport {useDispatch} from 'react-redux';\r\nimport * as authActions from '../store/auth-actions';\r\nimport * as userActions from '../store/user-actions';\r\nimport StatusCodes from \"../utils/StatusCodes.json\";\r\n\r\n//Splash Screen (first screen) to load Application pre-requisites\r\nconst SplashScreen = props => {\r\n\r\n  const [animating, setAnimating] = useState(true);\r\n  const dispatch = useDispatch();\r\n\r\n  //Load time hook to load auth details\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setAnimating(false);\r\n      dispatch(authActions.loadUserAuthDetails()).then((userAuthDetails) => {\r\n        userAuthDetails.status !== StatusCodes.OK || userAuthDetails.data.userId === null || userAuthDetails.data.userSecretKey === null ? props.navigation.navigate('LogInScreen') : loadUserDetailsAndNavigate();\r\n      });\r\n    }, 5000);\r\n  }, []);\r\n\r\n  //Load User Details from local or server and navigate either to User Details screen or Home Screen\r\n  const loadUserDetailsAndNavigate = () => {\r\n    dispatch(userActions.loadUserDetails()).then((userDetails) => {\r\n      userDetails.status !== StatusCodes.OK || userDetails.data.userFirstName === null ? props.navigation.navigate('UserDetailsScreen') : props.navigation.navigate('Home');\r\n    });\r\n  };\r\n\r\nreturn (\r\n  <View style={styles.splashScreenContainer}>\r\n  <ImageBackground \r\n  source={require('../assets/images/splash.png')} \r\n  style={styles.bgImage}>\r\n   <ActivityIndicator\r\n        animating={animating}\r\n        color=\"lightblue\"\r\n        size=\"large\"\r\n        style={styles.activityIndicator}\r\n      />\r\n  </ImageBackground>\r\n  </View>\r\n );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n splashScreenContainer: {\r\n  flex: 1\r\n },\r\n bgImage: {\r\n  flex: 1\r\n },\r\n activityIndicator: {\r\n  top: '50%'\r\n }\r\n});\r\n\r\nexport default SplashScreen;"]},"metadata":{},"sourceType":"module"}